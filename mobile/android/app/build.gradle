// في أعلى الملف
import java.util.Properties

// تحميل خصائص keystore
def keystorePropsFile = rootProject.file('release-keystore.properties')
if (keystorePropsFile.exists()) {
    Properties keystoreProps = new Properties()
    keystoreProps.load(new FileInputStream(keystorePropsFile))
    keystoreProps.each { prop, value ->
        project.ext[prop] = value
    }
}

apply plugin: "com.android.application"
apply plugin: "com.facebook.react"

// قد تحتاج الاستيرادات الأخرى هنا

android {
    compileSdkVersion 33

    defaultConfig {
        applicationId "com.munafis.app"
        minSdkVersion 21
        targetSdkVersion 33
        versionCode 1
        versionName "1.0"
    }

    signingConfigs {
        release {
            keyAlias 'release'
            keyPassword project.KEYSTORE_PASSWORD
            storeFile file("../release.keystore")
            storePassword project.KEYSTORE_PASSWORD
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            // يمكنك تفعيل minifyEnabled true إذا احتجت لتقليل حجم الـ APK
        }
        debug {
            // debug يبقى كما هو
        }
    }

    // بقية إعدادات android مثل flavorDimensions أو productFlavors إذا كنت تستخدمها
}

dependencies {
    implementation 'com.facebook.react:react-native:+'  // تأكد من إصدار React Native الصحيح
    // أضف هنا باقي الاعتمادات (dependencies) الخاصة بمشروعك
}
